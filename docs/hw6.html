<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>hw6.py</title>
  <link rel="stylesheet" href="pycco.css">
</head>
<body>
<div id='container'>
  <div id="background"></div>
  <div class='section'>
    <div class='docs'><h1>hw6.py</h1></div>
  </div>
  <div class='clearall'>
  <div class='section' id='section-0'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-0'>#</a>
      </div>
      
    </div>
    <div class='code'>

<div>
  <h1>Report on Generated FFT Trees</h1>
  <p>FFT 0</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if 75 &lt;= Model &lt;= 79 then with support = 78</p>
  <p>if Horsepower &lt;= 105 then with support = 20</p>
  <p>if Horsepower &lt;= 160 then with support = 35</p>
  <p>exit node support = 31</p>
  <p><br></p>
  <p>FFT 1</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if 75 &lt;= Model &lt;= 79 then with support = 78</p>
  <p>if Horsepower &lt;= 105 then with support = 20</p>
  <p>if 208 &lt;= Horsepower &lt;= 225 then with support = 9</p>
  <p>if 72 &lt;= Model &lt;= 74 then with support = 37</p>
  <p>exit node support = 20</p>
  <p><br></p>
  <p>FFT 2</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if 75 &lt;= Model &lt;= 79 then with support = 78</p>
  <p>if Horsepower &lt;= 105 then with support = 20</p>
  <p>if 208 &lt;= Horsepower &lt;= 225 then with support = 9</p>
  <p>if 155 &lt;= Horsepower &lt;= 198 then with support = 24</p>
  <p>exit node support = 33</p>
  <p><br></p>
  <p>FFT 3</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if 75 &lt;= Model &lt;= 79 then with support = 78</p>
  <p>if 107 &lt;= Horsepower &lt;= 215 then with support = 61</p>
  <p>exit node support = 25</p>
  <p><br></p>
  <p>FFT 4</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if Model &lt;= 72 then with support = 49</p>
  <p>if Horsepower &lt;= 96 then with support = 16</p>
  <p>if Horsepower &lt;= 105 then with support = 22</p>
  <p>if Displacement &lt;= 258 then with support = 14</p>
  <p>if Horsepower &lt;= 135 then with support = 12</p>
  <p>exit node support = 51</p>
  <p><br></p>
  <p>FFT 5</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if Model &lt;= 72 then with support = 49</p>
  <p>if Horsepower &lt;= 96 then with support = 16</p>
  <p>if Horsepower &lt;= 105 then with support = 22</p>
  <p>if Displacement &lt;= 258 then with support = 14</p>
  <p>if 145 &lt;= Horsepower &lt;= 230 then with support = 41</p>
  <p>exit node support = 22</p>
  <p><br></p>
  <p>FFT 6</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if Model &lt;= 72 then with support = 49</p>
  <p>if Horsepower &lt;= 96 then with support = 16</p>
  <p>if Horsepower &lt;= 105 then with support = 22</p>
  <p>if 400 &lt;= Displacement &lt;= 455 then with support = 10</p>
  <p>if Horsepower &lt;= 165 then with support = 60</p>
  <p>exit node support = 7</p>
  <p><br></p>
  <p>FFT 7</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if Model &lt;= 72 then with support = 49</p>
  <p>if Horsepower &lt;= 96 then with support = 16</p>
  <p>if Horsepower &lt;= 105 then with support = 22</p>
  <p>if 400 &lt;= Displacement &lt;= 455 then with support = 10</p>
  <p>if 170 &lt;= Horsepower &lt;= 180 then with support = 7</p>
  <p>exit node support = 60</p>
  <p><br></p>
  <p>FFT 8</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if Model &lt;= 72 then with support = 49</p>
  <p>if Horsepower &lt;= 96 then with support = 16</p>
  <p>if 107 &lt;= Horsepower &lt;= 230 then with support = 77</p>
  <p>exit node support = 22</p>
  <p><br></p>
  <p>FFT 9</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if Model &lt;= 72 then with support = 49</p>
  <p>if Model &lt;= 76 then with support = 69</p>
  <p>if Horsepower &lt;= 100 then with support = 11</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 10</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if Horsepower &lt;= 88 then with support = 45</p>
  <p>if Model &lt;= 72 then with support = 49</p>
  <p>if Model &lt;= 76 then with support = 69</p>
  <p>if 105 &lt;= Horsepower &lt;= 190 then with support = 35</p>
  <p>exit node support = 11</p>
  <p><br></p>
  <p>FFT 11</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if 76 &lt;= Model &lt;= 79 then with support = 67</p>
  <p>if Horsepower &lt;= 90 then with support = 12</p>
  <p>if 74 &lt;= Model &lt;= 75 then with support = 25</p>
  <p>if Horsepower &lt;= 105 then with support = 12</p>
  <p>exit node support = 38</p>
  <p><br></p>
  <p>FFT 12</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if 76 &lt;= Model &lt;= 79 then with support = 67</p>
  <p>if Horsepower &lt;= 90 then with support = 12</p>
  <p>if 74 &lt;= Model &lt;= 75 then with support = 25</p>
  <p>if 107 &lt;= Horsepower &lt;= 180 then with support = 34</p>
  <p>exit node support = 16</p>
  <p><br></p>
  <p>FFT 13</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if 76 &lt;= Model &lt;= 79 then with support = 67</p>
  <p>if Horsepower &lt;= 90 then with support = 12</p>
  <p>if Model &lt;= 73 then with support = 50</p>
  <p>exit node support = 25</p>
  <p><br></p>
  <p>FFT 14</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if 76 &lt;= Model &lt;= 79 then with support = 67</p>
  <p>if 160 &lt;= Horsepower &lt;= 215 then with support = 14</p>
  <p>if Horsepower &lt;= 90 then with support = 12</p>
  <p>exit node support = 61</p>
  <p><br></p>
  <p>FFT 15</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if 76 &lt;= Model &lt;= 79 then with support = 67</p>
  <p>if 160 &lt;= Horsepower &lt;= 215 then with support = 14</p>
  <p>if 145 &lt;= Horsepower &lt;= 158 then with support = 23</p>
  <p>exit node support = 50</p>
  <p><br></p>
  <p>FFT 16</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if Model &lt;= 73 then with support = 61</p>
  <p>if 78 &lt;= Model &lt;= 79 then with support = 38</p>
  <p>if 76 &lt;= Model &lt;= 77 then with support = 29</p>
  <p>exit node support = 26</p>
  <p><br></p>
  <p>FFT 17</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if Model &lt;= 73 then with support = 61</p>
  <p>if 78 &lt;= Model &lt;= 79 then with support = 38</p>
  <p>if Model &lt;= 75 then with support = 26</p>
  <p>exit node support = 29</p>
  <p><br></p>
  <p>FFT 18</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if Model &lt;= 73 then with support = 61</p>
  <p>if Model &lt;= 75 then with support = 26</p>
  <p>if Horsepower &lt;= 96 then with support = 18</p>
  <p>if Displacement &lt;= 225 then with support = 9</p>
  <p>exit node support = 40</p>
  <p><br></p>
  <p>FFT 19</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if Model &lt;= 73 then with support = 61</p>
  <p>if Model &lt;= 75 then with support = 26</p>
  <p>if Horsepower &lt;= 96 then with support = 18</p>
  <p>if 231 &lt;= Displacement &lt;= 350 then with support = 35</p>
  <p>exit node support = 14</p>
  <p><br></p>
  <p>FFT 20</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Horsepower &lt;= 83 then with support = 30</p>
  <p>if Model &lt;= 73 then with support = 61</p>
  <p>if Model &lt;= 75 then with support = 26</p>
  <p>if 156 &lt;= Displacement &lt;= 351 then with support = 57</p>
  <p>exit node support = 10</p>
  <p><br></p>
  <p>FFT 21</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if Displacement &lt;= 140 then with support = 31</p>
  <p>if 78 &lt;= Model &lt;= 79 then with support = 36</p>
  <p>if Horsepower &lt;= 107 then with support = 33</p>
  <p>if 74 &lt;= Model &lt;= 77 then with support = 31</p>
  <p>exit node support = 23</p>
  <p><br></p>
  <p>FFT 22</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if Displacement &lt;= 140 then with support = 31</p>
  <p>if 78 &lt;= Model &lt;= 79 then with support = 36</p>
  <p>if Horsepower &lt;= 107 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 23</p>
  <p>exit node support = 31</p>
  <p><br></p>
  <p>FFT 23</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if Displacement &lt;= 140 then with support = 31</p>
  <p>if 78 &lt;= Model &lt;= 79 then with support = 36</p>
  <p>if 165 &lt;= Horsepower &lt;= 180 then with support = 9</p>
  <p>exit node support = 78</p>
  <p><br></p>
  <p>FFT 24</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if Displacement &lt;= 140 then with support = 31</p>
  <p>if Model &lt;= 73 then with support = 30</p>
  <p>exit node support = 93</p>
  <p><br></p>
  <p>FFT 25</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if 304 &lt;= Displacement &lt;= 360 then with support = 49</p>
  <p>if Displacement &lt;= 98 then with support = 11</p>
  <p>if Horsepower &lt;= 80 then with support = 14</p>
  <p>if 75 &lt;= Model &lt;= 79 then with support = 59</p>
  <p>exit node support = 21</p>
  <p><br></p>
  <p>FFT 26</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if 304 &lt;= Displacement &lt;= 360 then with support = 49</p>
  <p>if Displacement &lt;= 98 then with support = 11</p>
  <p>if Horsepower &lt;= 80 then with support = 14</p>
  <p>if 96 &lt;= Horsepower &lt;= 140 then with support = 50</p>
  <p>exit node support = 30</p>
  <p><br></p>
  <p>FFT 27</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if 304 &lt;= Displacement &lt;= 360 then with support = 49</p>
  <p>if Displacement &lt;= 98 then with support = 11</p>
  <p>if 88 &lt;= Horsepower &lt;= 140 then with support = 71</p>
  <p>exit node support = 23</p>
  <p><br></p>
  <p>FFT 28</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 40</p>
  <p>if 383 &lt;= Displacement &lt;= 455 then with support = 25</p>
  <p>if Model &lt;= 71 then with support = 30</p>
  <p>if 304 &lt;= Displacement &lt;= 360 then with support = 49</p>
  <p>if 140 &lt;= Displacement &lt;= 302 then with support = 84</p>
  <p>exit node support = 21</p>
  <p><br></p>
  <p>FFT 29</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if 75 &lt;= Model &lt;= 77 then with support = 60</p>
  <p>if 74 &lt;= Model &lt;= 78 then with support = 37</p>
  <p>if 79 &lt;= Model &lt;= 80 then with support = 30</p>
  <p>if Horsepower &lt;= 85 then with support = 4</p>
  <p>if Horsepower &lt;= 130 then with support = 11</p>
  <p>exit node support = 32</p>
  <p><br></p>
  <p>FFT 30</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if 75 &lt;= Model &lt;= 77 then with support = 60</p>
  <p>if 74 &lt;= Model &lt;= 78 then with support = 37</p>
  <p>if 79 &lt;= Model &lt;= 80 then with support = 30</p>
  <p>if Horsepower &lt;= 85 then with support = 4</p>
  <p>if 140 &lt;= Horsepower &lt;= 230 then with support = 31</p>
  <p>exit node support = 12</p>
  <p><br></p>
  <p>FFT 31</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if 75 &lt;= Model &lt;= 77 then with support = 60</p>
  <p>if 74 &lt;= Model &lt;= 78 then with support = 37</p>
  <p>if 79 &lt;= Model &lt;= 80 then with support = 30</p>
  <p>if 198 &lt;= Horsepower &lt;= 230 then with support = 5</p>
  <p>if Horsepower &lt;= 86 then with support = 6</p>
  <p>exit node support = 36</p>
  <p><br></p>
  <p>FFT 32</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if 75 &lt;= Model &lt;= 77 then with support = 60</p>
  <p>if 74 &lt;= Model &lt;= 78 then with support = 37</p>
  <p>if 79 &lt;= Model &lt;= 80 then with support = 30</p>
  <p>if 198 &lt;= Horsepower &lt;= 230 then with support = 5</p>
  <p>if 90 &lt;= Horsepower &lt;= 170 then with support = 29</p>
  <p>exit node support = 13</p>
  <p><br></p>
  <p>FFT 33</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if 75 &lt;= Model &lt;= 77 then with support = 60</p>
  <p>if 74 &lt;= Model &lt;= 78 then with support = 37</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>exit node support = 30</p>
  <p><br></p>
  <p>FFT 34</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if 75 &lt;= Model &lt;= 77 then with support = 60</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 79 &lt;= Model &lt;= 80 then with support = 30</p>
  <p>exit node support = 37</p>
  <p><br></p>
  <p>FFT 35</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if 75 &lt;= Model &lt;= 77 then with support = 60</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if Model &lt;= 78 then with support = 37</p>
  <p>exit node support = 30</p>
  <p><br></p>
  <p>FFT 36</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if Horsepower &lt;= 96 then with support = 52</p>
  <p>if Horsepower &lt;= 115 then with support = 33</p>
  <p>if 76 &lt;= Model &lt;= 79 then with support = 32</p>
  <p>exit node support = 10</p>
  <p><br></p>
  <p>FFT 37</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if Horsepower &lt;= 96 then with support = 52</p>
  <p>if Horsepower &lt;= 115 then with support = 33</p>
  <p>if 305 &lt;= Displacement &lt;= 400 then with support = 29</p>
  <p>exit node support = 13</p>
  <p><br></p>
  <p>FFT 38</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if Horsepower &lt;= 96 then with support = 52</p>
  <p>if 145 &lt;= Horsepower &lt;= 170 then with support = 20</p>
  <p>exit node support = 55</p>
  <p><br></p>
  <p>FFT 39</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 145 &lt;= Horsepower &lt;= 152 then with support = 18</p>
  <p>if Model &lt;= 75 then with support = 28</p>
  <p>if Horsepower &lt;= 72 then with support = 9</p>
  <p>if Horsepower &lt;= 83 then with support = 8</p>
  <p>exit node support = 64</p>
  <p><br></p>
  <p>FFT 40</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 145 &lt;= Horsepower &lt;= 152 then with support = 18</p>
  <p>if Model &lt;= 75 then with support = 28</p>
  <p>if Horsepower &lt;= 72 then with support = 9</p>
  <p>if 140 &lt;= Displacement &lt;= 400 then with support = 65</p>
  <p>exit node support = 7</p>
  <p><br></p>
  <p>FFT 41</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 145 &lt;= Horsepower &lt;= 152 then with support = 18</p>
  <p>if Model &lt;= 75 then with support = 28</p>
  <p>if 79 &lt;= Horsepower &lt;= 190 then with support = 70</p>
  <p>exit node support = 11</p>
  <p><br></p>
  <p>FFT 42</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 145 &lt;= Horsepower &lt;= 152 then with support = 18</p>
  <p>if 170 &lt;= Horsepower &lt;= 190 then with support = 5</p>
  <p>if Horsepower &lt;= 75 then with support = 14</p>
  <p>if 77 &lt;= Model &lt;= 79 then with support = 49</p>
  <p>if Displacement &lt;= 140 then with support = 6</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 43</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 145 &lt;= Horsepower &lt;= 152 then with support = 18</p>
  <p>if 170 &lt;= Horsepower &lt;= 190 then with support = 5</p>
  <p>if Horsepower &lt;= 75 then with support = 14</p>
  <p>if 77 &lt;= Model &lt;= 79 then with support = 49</p>
  <p>if 302 &lt;= Displacement &lt;= 305 then with support = 6</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 44</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 145 &lt;= Horsepower &lt;= 152 then with support = 18</p>
  <p>if 170 &lt;= Horsepower &lt;= 190 then with support = 5</p>
  <p>if Horsepower &lt;= 75 then with support = 14</p>
  <p>if 88 &lt;= Horsepower &lt;= 140 then with support = 73</p>
  <p>exit node support = 17</p>
  <p><br></p>
  <p>FFT 45</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if 81 &lt;= Model &lt;= 82 then with support = 33</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 145 &lt;= Horsepower &lt;= 152 then with support = 18</p>
  <p>if 170 &lt;= Horsepower &lt;= 190 then with support = 5</p>
  <p>if 120 &lt;= Horsepower &lt;= 140 then with support = 18</p>
  <p>exit node support = 86</p>
  <p><br></p>
  <p>FFT 46</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 76 &lt;= Model &lt;= 82 then with support = 125</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 47</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if Horsepower &lt;= 75 then with support = 20</p>
  <p>if 78 &lt;= Model &lt;= 82 then with support = 66</p>
  <p>if Horsepower &lt;= 92 then with support = 13</p>
  <p>exit node support = 37</p>
  <p><br></p>
  <p>FFT 48</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if Horsepower &lt;= 75 then with support = 20</p>
  <p>if 78 &lt;= Model &lt;= 82 then with support = 66</p>
  <p>if 96 &lt;= Horsepower &lt;= 190 then with support = 33</p>
  <p>exit node support = 17</p>
  <p><br></p>
  <p>FFT 49</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if Horsepower &lt;= 75 then with support = 20</p>
  <p>if 152 &lt;= Horsepower &lt;= 190 then with support = 8</p>
  <p>if Model &lt;= 76 then with support = 33</p>
  <p>exit node support = 75</p>
  <p><br></p>
  <p>FFT 50</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if Horsepower &lt;= 75 then with support = 20</p>
  <p>if 152 &lt;= Horsepower &lt;= 190 then with support = 8</p>
  <p>if 77 &lt;= Model &lt;= 79 then with support = 44</p>
  <p>exit node support = 64</p>
  <p><br></p>
  <p>FFT 51</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if 138 &lt;= Horsepower &lt;= 190 then with support = 11</p>
  <p>if Displacement &lt;= 140 then with support = 45</p>
  <p>if Horsepower &lt;= 92 then with support = 27</p>
  <p>exit node support = 53</p>
  <p><br></p>
  <p>FFT 52</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if 138 &lt;= Horsepower &lt;= 190 then with support = 11</p>
  <p>if Displacement &lt;= 140 then with support = 45</p>
  <p>if 110 &lt;= Horsepower &lt;= 130 then with support = 27</p>
  <p>if Displacement &lt;= 200 then with support = 21</p>
  <p>exit node support = 32</p>
  <p><br></p>
  <p>FFT 53</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if 138 &lt;= Horsepower &lt;= 190 then with support = 11</p>
  <p>if Displacement &lt;= 140 then with support = 45</p>
  <p>if 110 &lt;= Horsepower &lt;= 130 then with support = 27</p>
  <p>if 92 &lt;= Horsepower &lt;= 135 then with support = 28</p>
  <p>exit node support = 25</p>
  <p><br></p>
  <p>FFT 54</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if 138 &lt;= Horsepower &lt;= 190 then with support = 11</p>
  <p>if 267 &lt;= Displacement &lt;= 350 then with support = 10</p>
  <p>if 79 &lt;= Model &lt;= 82 then with support = 51</p>
  <p>exit node support = 64</p>
  <p><br></p>
  <p>FFT 55</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 2 then with support = 70</p>
  <p>if Model &lt;= 71 then with support = 42</p>
  <p>if Model &lt;= 73 then with support = 47</p>
  <p>if 140 &lt;= Horsepower &lt;= 150 then with support = 24</p>
  <p>if 138 &lt;= Horsepower &lt;= 190 then with support = 11</p>
  <p>if 267 &lt;= Displacement &lt;= 350 then with support = 10</p>
  <p>if Model &lt;= 78 then with support = 64</p>
  <p>exit node support = 51</p>
  <p><br></p>
  <p>FFT 56</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 15</p>
  <p>if Displacement &lt;= 97 then with support = 23</p>
  <p>exit node support = 32</p>
  <p><br></p>
  <p>FFT 57</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 15</p>
  <p>if 103 &lt;= Horsepower &lt;= 133 then with support = 11</p>
  <p>if Displacement &lt;= 97 then with support = 23</p>
  <p>exit node support = 21</p>
  <p><br></p>
  <p>FFT 58</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 15</p>
  <p>if 103 &lt;= Horsepower &lt;= 133 then with support = 11</p>
  <p>if 107 &lt;= Displacement &lt;= 121 then with support = 14</p>
  <p>exit node support = 30</p>
  <p><br></p>
  <p>FFT 59</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Model &lt;= 73 then with support = 21</p>
  <p>if Displacement &lt;= 105 then with support = 27</p>
  <p>exit node support = 22</p>
  <p><br></p>
  <p>FFT 60</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Model &lt;= 73 then with support = 21</p>
  <p>if 131 &lt;= Displacement &lt;= 183 then with support = 9</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 12</p>
  <p>exit node support = 28</p>
  <p><br></p>
  <p>FFT 61</p>
  <p>if origin == 3 then with support = 79</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Model &lt;= 73 then with support = 21</p>
  <p>if 131 &lt;= Displacement &lt;= 183 then with support = 9</p>
  <p>if Model &lt;= 76 then with support = 19</p>
  <p>exit node support = 21</p>
  <p><br></p>
  <p>FFT 62</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Horsepower &lt;= 65 then with support = 31</p>
  <p>if Horsepower &lt;= 72 then with support = 33</p>
  <p>if Horsepower &lt;= 97 then with support = 64</p>
  <p>exit node support = 21</p>
  <p><br></p>
  <p>FFT 63</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Horsepower &lt;= 65 then with support = 31</p>
  <p>if Horsepower &lt;= 72 then with support = 33</p>
  <p>if 120 &lt;= Displacement &lt;= 168 then with support = 36</p>
  <p>if Horsepower &lt;= 76 then with support = 14</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 64</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Horsepower &lt;= 65 then with support = 31</p>
  <p>if Horsepower &lt;= 72 then with support = 33</p>
  <p>if 120 &lt;= Displacement &lt;= 168 then with support = 36</p>
  <p>if 78 &lt;= Horsepower &lt;= 110 then with support = 34</p>
  <p>exit node support = 15</p>
  <p><br></p>
  <p>FFT 65</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Horsepower &lt;= 65 then with support = 31</p>
  <p>if 76 &lt;= Horsepower &lt;= 133 then with support = 71</p>
  <p>if origin == 3 then with support = 28</p>
  <p>exit node support = 19</p>
  <p><br></p>
  <p>FFT 66</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if Horsepower &lt;= 65 then with support = 31</p>
  <p>if 76 &lt;= Horsepower &lt;= 133 then with support = 71</p>
  <p>if origin == 2 then with support = 19</p>
  <p>exit node support = 28</p>
  <p><br></p>
  <p>FFT 67</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 3 then with support = 73</p>
  <p>if Displacement &lt;= 97 then with support = 29</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 68</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 3 then with support = 73</p>
  <p>if 121 &lt;= Displacement &lt;= 130 then with support = 12</p>
  <p>if Displacement &lt;= 90 then with support = 17</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 69</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 3 then with support = 73</p>
  <p>if 121 &lt;= Displacement &lt;= 130 then with support = 12</p>
  <p>if 97 &lt;= Displacement &lt;= 141 then with support = 33</p>
  <p>exit node support = 19</p>
  <p><br></p>
  <p>FFT 70</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 2 then with support = 64</p>
  <p>if Horsepower &lt;= 65 then with support = 18</p>
  <p>if Horsepower &lt;= 90 then with support = 35</p>
  <p>exit node support = 20</p>
  <p><br></p>
  <p>FFT 71</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 2 then with support = 64</p>
  <p>if Horsepower &lt;= 65 then with support = 18</p>
  <p>if 92 &lt;= Horsepower &lt;= 110 then with support = 20</p>
  <p>exit node support = 35</p>
  <p><br></p>
  <p>FFT 72</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 2 then with support = 64</p>
  <p>if 95 &lt;= Horsepower &lt;= 97 then with support = 13</p>
  <p>if Horsepower &lt;= 65 then with support = 18</p>
  <p>if 80 &lt;= Model &lt;= 82 then with support = 22</p>
  <p>exit node support = 20</p>
  <p><br></p>
  <p>FFT 73</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 2 then with support = 64</p>
  <p>if 95 &lt;= Horsepower &lt;= 97 then with support = 13</p>
  <p>if Horsepower &lt;= 65 then with support = 18</p>
  <p>if Model &lt;= 77 then with support = 18</p>
  <p>exit node support = 24</p>
  <p><br></p>
  <p>FFT 74</p>
  <p>if origin == 1 then with support = 249</p>
  <p>if 145 &lt;= Displacement &lt;= 183 then with support = 12</p>
  <p>if origin == 2 then with support = 64</p>
  <p>if 95 &lt;= Horsepower &lt;= 97 then with support = 13</p>
  <p>if 74 &lt;= Horsepower &lt;= 100 then with support = 22</p>
  <p>exit node support = 38</p></div>
<div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">operator</span> <span class="kn">import</span> <span class="n">itemgetter</span>
<span class="kn">import</span> <span class="nn">copy</span>
<span class="kn">from</span> <span class="nn">statistics</span> <span class="kn">import</span> <span class="n">median</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span>
<span class="n">seed</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">seed</span>
<span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">sample</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">cmp_to_key</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-1'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-1'>#</a>
      </div>
      <p>Based on class o by Tim Menzies</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">Bag</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-2'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-2'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwargs</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-3'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-3'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;{&quot;</span><span class="o">+</span> <span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">:</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">())[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span>  <span class="n">k</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;_&quot;</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;}&quot;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-4'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-4'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-5'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-5'>#</a>
      </div>
      <pre><code>Util random number generator park-miller method.
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">park_miller</span><span class="p">(</span><span class="n">seed</span><span class="p">,</span><span class="n">start</span><span class="p">,</span><span class="n">end</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-6'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-6'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">end</span><span class="o">-</span><span class="n">start</span><span class="p">)</span><span class="o">/</span><span class="mi">2147483647</span>
    <span class="n">b</span> <span class="o">=</span> <span class="n">start</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">seed</span> <span class="o">=</span> <span class="p">(</span><span class="mi">16807</span><span class="o">*</span><span class="n">seed</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2147483647</span>
        <span class="k">yield</span>  <span class="n">a</span> <span class="o">*</span> <span class="n">seed</span> <span class="o">+</span><span class="n">b</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-7'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-7'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">var</span><span class="p">(</span><span class="n">items</span><span class="p">):</span>
    <span class="n">n</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">items</span><span class="p">)</span>
    <span class="n">mean</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">items</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span>
    <span class="n">deviations</span> <span class="o">=</span> <span class="p">[(</span><span class="n">x</span> <span class="o">-</span> <span class="n">mean</span><span class="p">)</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">items</span><span class="p">]</span>
    <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="n">deviations</span><span class="p">)</span> <span class="o">/</span> <span class="n">n</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-8'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-8'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">unsuper</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">min_break</span><span class="p">,</span> <span class="n">min_size</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">d</span><span class="p">:</span> <span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="n">groups</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">group</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">nums</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">x</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">d</span>

        <span class="n">group</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="n">nums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

        <span class="n">x1</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span> <span class="k">else</span> <span class="n">data</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="p">(</span><span class="n">x1</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">x1</span><span class="p">))</span> <span class="ow">and</span> <span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">nums</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">min_break</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nums</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="n">min_size</span><span class="p">):</span>
            <span class="n">groups</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">group</span><span class="p">)</span>
            <span class="n">group</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">nums</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">group</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">groups</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">group</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">groups</span> <span class="o">=</span> <span class="p">[</span><span class="n">group</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">groups</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-9'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-9'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">merge</span><span class="p">(</span><span class="n">groups</span><span class="p">):</span>
    <span class="n">proposal</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">current</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span>
        <span class="nb">next</span> <span class="o">=</span> <span class="p">[</span><span class="n">g</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">groups</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]]</span>
        <span class="n">both</span> <span class="o">=</span> <span class="n">current</span> <span class="o">+</span> <span class="nb">next</span>

        <span class="n">n1</span><span class="p">,</span> <span class="n">n2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">current</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="nb">next</span><span class="p">)</span>
        <span class="n">var1</span><span class="p">,</span> <span class="n">var2</span><span class="p">,</span> <span class="n">var3</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="n">current</span><span class="p">),</span> <span class="n">var</span><span class="p">(</span><span class="nb">next</span><span class="p">),</span> <span class="n">var</span><span class="p">(</span><span class="n">both</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">var3</span><span class="o">*</span><span class="mf">0.95</span> <span class="o">&lt;=</span> <span class="p">(</span><span class="n">var1</span><span class="o">*</span><span class="n">n1</span> <span class="o">+</span> <span class="n">var2</span><span class="o">*</span><span class="n">n2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">n1</span><span class="o">+</span><span class="n">n2</span><span class="p">):</span>
            <span class="n">proposal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">groups</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">groups</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="p">)</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">proposal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">groups</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">proposal</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">groups</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">proposal</span><span class="p">)</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">merge</span><span class="p">(</span><span class="n">proposal</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">groups</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-10'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-10'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">FFTNode</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-11'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-11'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">full_policy</span><span class="p">,</span><span class="n">surviving_data</span><span class="p">,</span><span class="n">ranges</span><span class="p">):</span>
        <span class="k">if</span><span class="p">(</span><span class="n">full_policy</span> <span class="o">==</span> <span class="kc">None</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">txt</span> <span class="o">=</span> <span class="s2">&quot;Last leaf&quot;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="n">surviving_data</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">support</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">surviving_data</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">range</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">policy</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">pass_data</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">policy</span> <span class="o">=</span> <span class="n">full_policy</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">support</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">policy</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">range</span> <span class="o">=</span> <span class="n">ranges</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ranges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">ranges</span> <span class="o">=</span> <span class="n">ranges</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">range</span> <span class="o">=</span> <span class="n">ranges</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ranges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">ranges</span> <span class="o">=</span> <span class="n">ranges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;txt&#39;</span><span class="p">]</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;first&#39;</span><span class="p">]:</span>
                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">surviving_data</span><span class="p">:</span>
                        <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]]</span> <span class="o">!=</span> <span class="s1">&#39;?&#39;</span> <span class="ow">and</span> <span class="n">Sample</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])</span> <span class="o">&lt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;hi&#39;</span><span class="p">]:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">support</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">pass_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
                <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;last&#39;</span><span class="p">]:</span>
                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">surviving_data</span><span class="p">:</span>
                        <span class="k">if</span>  <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]]</span> <span class="o">!=</span> <span class="s1">&#39;?&#39;</span> <span class="ow">and</span> <span class="n">Sample</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;lo&#39;</span><span class="p">]:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">support</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">pass_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">surviving_data</span><span class="p">:</span>
                        <span class="k">if</span>  <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]]</span> <span class="o">!=</span> <span class="s1">&#39;?&#39;</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;lo&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">Sample</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;hi&#39;</span><span class="p">]:</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">support</span> <span class="o">+=</span> <span class="mi">1</span>
                        <span class="k">else</span><span class="p">:</span>
                            <span class="n">pass_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">surviving_data</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]]</span> <span class="o">!=</span> <span class="s1">&#39;?&#39;</span> <span class="ow">and</span> <span class="n">Sample</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])(</span><span class="n">row</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;at&#39;</span><span class="p">]])</span> <span class="o">==</span> <span class="bp">self</span><span class="o">.</span><span class="n">range</span><span class="p">[</span><span class="s1">&#39;lo&#39;</span><span class="p">]:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">support</span> <span class="o">+=</span> <span class="mi">1</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">pass_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">full_policy</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">full_policy</span> <span class="o">=</span> <span class="n">full_policy</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">FFTNode</span><span class="p">(</span><span class="n">full_policy</span><span class="p">,</span> <span class="n">pass_data</span><span class="p">,</span> <span class="n">ranges</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">next</span> <span class="o">=</span> <span class="n">FFTNode</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span><span class="n">pass_data</span><span class="p">,</span><span class="kc">None</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-12'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-12'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">FFT</span><span class="p">():</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-13'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-13'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">all</span><span class="p">,</span> <span class="n">conf</span><span class="p">,</span> <span class="n">branch</span><span class="p">,</span><span class="n">branches</span><span class="p">,</span><span class="n">stop</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">my</span> <span class="o">=</span> <span class="n">conf</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-14'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-14'>#</a>
      </div>
      <p>stop = stop or 2<em>len(all.rows)</em>*self.my.bins</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">stop</span> <span class="o">=</span> <span class="n">stop</span> <span class="ow">or</span> <span class="mi">2</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="nb">all</span><span class="o">.</span><span class="n">rows</span><span class="p">)</span><span class="o">**</span><span class="mf">0.5</span>
        
        <span class="n">bins</span> <span class="o">=</span> <span class="nb">all</span><span class="o">.</span><span class="n">discretize</span><span class="p">()</span>

        <span class="n">bestIdea</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">worstIdea</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="n">bestValues</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s2">&quot;plan&quot;</span><span class="p">,</span> <span class="n">bins</span><span class="p">)</span>
        <span class="n">worstValues</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">values</span><span class="p">(</span><span class="s2">&quot;monitor&quot;</span><span class="p">,</span> <span class="n">bins</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">bestValues</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">worstValues</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">bestIdea</span>   <span class="o">=</span> <span class="n">bestValues</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">worstIdea</span>  <span class="o">=</span> <span class="n">worstValues</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            
            <span class="k">for</span> <span class="n">yes</span><span class="p">,</span><span class="n">no</span><span class="p">,</span><span class="n">idea</span> <span class="ow">in</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">bestIdea</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">worstIdea</span><span class="p">)]:</span>
                <span class="n">leaf</span><span class="p">,</span><span class="n">tree</span> <span class="o">=</span> <span class="nb">all</span><span class="o">.</span><span class="n">clone</span><span class="p">(),</span> <span class="nb">all</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">all</span><span class="o">.</span><span class="n">rows</span><span class="p">:</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">idea</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
                        <span class="n">leaf</span> <span class="o">+</span> <span class="n">row</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">tree</span> <span class="o">+</span> <span class="n">row</span>
                <span class="n">b1</span> <span class="o">=</span> <span class="n">copy</span><span class="o">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">branch</span><span class="p">)</span>
                <span class="n">b1</span> <span class="o">+=</span> <span class="p">[</span><span class="n">Bag</span><span class="p">(</span><span class="n">at</span><span class="o">=</span><span class="n">idea</span><span class="o">.</span><span class="n">at</span> <span class="o">-</span><span class="mi">1</span> <span class="p">,</span> <span class="n">lo</span><span class="o">=</span><span class="n">idea</span><span class="o">.</span><span class="n">lo</span><span class="p">,</span> <span class="n">hi</span><span class="o">=</span><span class="n">idea</span><span class="o">.</span><span class="n">hi</span><span class="p">,</span>
                                <span class="nb">type</span><span class="o">=</span><span class="n">yes</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;if &quot;</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">idea</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot; then with support = &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">leaf</span><span class="o">.</span><span class="n">rows</span><span class="p">))</span> <span class="p">,</span> 
                                <span class="n">then</span><span class="o">=</span><span class="n">leaf</span><span class="o">.</span><span class="n">ys</span><span class="p">(),</span> <span class="n">n</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">leaf</span><span class="o">.</span><span class="n">rows</span><span class="p">))]</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">rows</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">stop</span> <span class="ow">or</span> <span class="n">level</span> <span class="o">&gt;</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span>
                    <span class="n">b1</span>  <span class="o">+=</span> <span class="p">[</span><span class="n">Bag</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="n">no</span><span class="p">,</span> <span class="n">txt</span><span class="o">=</span><span class="s2">&quot;exit node support = &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">rows</span><span class="p">)),</span> <span class="n">then</span><span class="o">=</span><span class="n">tree</span><span class="o">.</span><span class="n">ys</span><span class="p">(),</span> <span class="n">n</span><span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">tree</span><span class="o">.</span><span class="n">rows</span><span class="p">))]</span>
                    <span class="n">branches</span> <span class="o">+=</span> <span class="p">[</span><span class="n">b1</span><span class="p">]</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">FFT</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span><span class="n">conf</span><span class="p">,</span><span class="n">b1</span><span class="p">,</span><span class="n">branches</span><span class="p">,</span><span class="n">stop</span><span class="o">=</span><span class="n">stop</span><span class="p">,</span><span class="n">level</span><span class="o">=</span><span class="n">level</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-15'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-15'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">match</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">bin</span><span class="p">,</span> <span class="n">row</span><span class="p">):</span>
        <span class="n">v</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="nb">bin</span><span class="o">.</span><span class="n">at</span><span class="p">]</span>             
        <span class="k">if</span>   <span class="n">v</span><span class="o">==</span><span class="s2">&quot;?&quot;</span>   <span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>      
        <span class="k">elif</span> <span class="nb">bin</span><span class="o">.</span><span class="n">first</span><span class="p">:</span> <span class="k">return</span> <span class="n">Sample</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">v</span><span class="p">)(</span><span class="n">v</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">bin</span><span class="o">.</span><span class="n">hi</span>
        <span class="k">elif</span> <span class="nb">bin</span><span class="o">.</span><span class="n">last</span> <span class="p">:</span> <span class="k">return</span> <span class="n">Sample</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">v</span><span class="p">)(</span><span class="n">v</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="nb">bin</span><span class="o">.</span><span class="n">lo</span>
        <span class="k">else</span>          <span class="p">:</span> <span class="k">return</span> <span class="nb">bin</span><span class="o">.</span><span class="n">lo</span> <span class="o">&lt;=</span> <span class="n">Sample</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">v</span><span class="p">)(</span><span class="n">v</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">bin</span><span class="o">.</span><span class="n">hi</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-16'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-16'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">show</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="nb">bin</span><span class="p">):</span>
        <span class="k">if</span>   <span class="nb">bin</span><span class="o">.</span><span class="n">lo</span> <span class="o">==</span> <span class="nb">bin</span><span class="o">.</span><span class="n">hi</span><span class="p">:</span> <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">txt</span><span class="si">}</span><span class="s2"> == </span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">lo</span><span class="si">}</span><span class="s2">&quot;</span>  
        <span class="k">elif</span> <span class="nb">bin</span><span class="o">.</span><span class="n">first</span><span class="p">:</span> <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">txt</span><span class="si">}</span><span class="s2"> &lt;= </span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">hi</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">elif</span> <span class="nb">bin</span><span class="o">.</span><span class="n">last</span> <span class="p">:</span> <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">txt</span><span class="si">}</span><span class="s2"> &gt;= </span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">lo</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">else</span>          <span class="p">:</span> <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">lo</span><span class="si">}</span><span class="s2"> &lt;= </span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">txt</span><span class="si">}</span><span class="s2"> &lt;= </span><span class="si">{</span><span class="nb">bin</span><span class="o">.</span><span class="n">hi</span><span class="si">}</span><span class="s2">&quot;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-17'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-17'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">value</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rule</span><span class="p">,</span> <span class="nb">bin</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-18'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-18'>#</a>
      </div>
      <p>s = self.my.support</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">s</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="n">rules</span> <span class="o">=</span> <span class="n">Bag</span><span class="p">(</span><span class="n">plan</span>    <span class="o">=</span> <span class="k">lambda</span> <span class="n">b</span><span class="p">,</span><span class="n">r</span><span class="p">:</span> <span class="n">b</span><span class="o">**</span><span class="n">s</span><span class="o">/</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">r</span><span class="p">)</span> <span class="k">if</span> <span class="n">b</span><span class="o">&gt;</span><span class="n">r</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>  
                <span class="n">monitor</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">b</span><span class="p">,</span><span class="n">r</span><span class="p">:</span> <span class="n">r</span><span class="o">**</span><span class="n">s</span><span class="o">/</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">r</span><span class="p">)</span> <span class="k">if</span> <span class="n">r</span><span class="o">&gt;</span><span class="n">b</span> <span class="k">else</span> <span class="mi">0</span><span class="p">,</span>  
                <span class="n">novel</span>   <span class="o">=</span> <span class="k">lambda</span> <span class="n">b</span><span class="p">,</span><span class="n">r</span><span class="p">:</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">b</span><span class="o">+</span><span class="n">r</span><span class="p">))</span>                   

        <span class="k">if</span> <span class="nb">bin</span><span class="o">.</span><span class="n">rests</span> <span class="o">==</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">bin</span><span class="o">.</span><span class="n">bests</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">rules</span><span class="p">[</span><span class="n">rule</span><span class="p">](</span><span class="nb">bin</span><span class="o">.</span><span class="n">best</span><span class="p">,</span> <span class="nb">bin</span><span class="o">.</span><span class="n">rest</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">rules</span><span class="p">[</span><span class="n">rule</span><span class="p">](</span><span class="nb">bin</span><span class="o">.</span><span class="n">best</span><span class="o">/</span><span class="nb">bin</span><span class="o">.</span><span class="n">bests</span><span class="p">,</span> <span class="nb">bin</span><span class="o">.</span><span class="n">rest</span><span class="o">/</span><span class="nb">bin</span><span class="o">.</span><span class="n">rests</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-19'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-19'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">values</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">rule</span><span class="p">,</span><span class="n">bins</span><span class="p">):</span>
        <span class="n">bins</span> <span class="o">=</span> <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span><span class="nb">bin</span><span class="p">),</span> <span class="nb">bin</span><span class="p">)</span> <span class="k">for</span> <span class="nb">bin</span> <span class="ow">in</span> <span class="n">bins</span><span class="p">]</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="p">[(</span><span class="n">n</span><span class="p">,</span><span class="nb">bin</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span><span class="p">,</span><span class="nb">bin</span> <span class="ow">in</span> <span class="n">bins</span> <span class="k">if</span> <span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">tmp</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="nb">tuple</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-20'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-20'>#</a>
      </div>
      <pre><code>Sym class represents the symbolic information
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">Sym</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-21'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-21'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-22'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-22'>#</a>
      </div>
      <pre><code>    construct a new Sym object
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">oid</span><span class="p">,</span><span class="n">txt</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-23'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-23'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">most</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oid</span> <span class="o">=</span> <span class="n">oid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">txt</span> <span class="o">=</span> <span class="n">txt</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">data</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="bp">self</span> <span class="o">+</span> <span class="n">val</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-24'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-24'>#</a>
      </div>
      <pre><code>    add method for Sym
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-25'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-25'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">tmp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">v</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">tmp</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">most</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">most</span> <span class="o">=</span> <span class="n">tmp</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">mode</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">return</span> <span class="n">v</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-26'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-26'>#</a>
      </div>
      <pre><code>    sub method for Sym
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-27'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-27'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">old</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">old</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">old</span> <span class="o">-</span> <span class="mi">1</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-28'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-28'>#</a>
      </div>
      <pre><code>    returns entropy
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">variety</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-29'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-29'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">syment</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-30'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-30'>#</a>
      </div>
      <pre><code>    expectation for Sym
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">xpect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-31'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-31'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">+</span> <span class="n">j</span><span class="o">.</span><span class="n">n</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">/</span> <span class="n">n</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">variety</span><span class="p">()</span> <span class="o">+</span> <span class="n">j</span><span class="o">.</span><span class="n">n</span> <span class="o">/</span> <span class="n">n</span> <span class="o">*</span> <span class="n">j</span><span class="o">.</span><span class="n">variety</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-32'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-32'>#</a>
      </div>
      <pre><code>    entropy for Sym
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">syment</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-33'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-33'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">e</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">p</span> <span class="o">=</span> <span class="n">v</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span>
            <span class="n">e</span> <span class="o">-=</span> <span class="n">p</span><span class="o">*</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="o">/</span><span class="n">math</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">e</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-34'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-34'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">symany</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">without</span><span class="p">):</span>
        <span class="n">r</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">m</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">-</span> <span class="n">v</span> <span class="k">if</span> <span class="n">without</span> <span class="k">else</span> <span class="n">v</span>
            <span class="n">r</span> <span class="o">-=</span> <span class="n">m</span><span class="o">/</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span>
            <span class="k">if</span> <span class="n">r</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">k</span>
        <span class="k">return</span> <span class="n">k</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-35'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-35'>#</a>
      </div>
      <pre><code>    calculates likelihood between syms
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">symlike</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">prior</span><span class="p">,</span><span class="n">m</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-36'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-36'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="p">[</span><span class="n">x</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">f</span> <span class="o">+</span> <span class="n">m</span><span class="o">*</span><span class="n">prior</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">+</span> <span class="n">m</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-37'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-37'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">dist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="n">y</span> <span class="k">else</span> <span class="mi">1</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-38'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-38'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">x</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">x</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-39'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-39'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">discretize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cnt</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span> <span class="o">|</span> <span class="n">other</span><span class="o">.</span><span class="n">cnt</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
            <span class="k">yield</span> <span class="n">Bag</span><span class="p">(</span> <span class="n">at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">oid</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span> <span class="n">lo</span> <span class="o">=</span> <span class="n">val</span><span class="p">,</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">val</span><span class="p">,</span>
                    <span class="n">best</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
                    <span class="n">bests</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span>
                    <span class="n">rest</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
                    <span class="n">rests</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">n</span><span class="p">,</span>
                    <span class="n">first</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">last</span> <span class="o">=</span> <span class="kc">False</span> <span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-40'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-40'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">mid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">mode</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-41'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-41'>#</a>
      </div>
      <pre><code>Num class represents the numeric information
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">Num</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-42'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-42'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-43'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-43'>#</a>
      </div>
      <pre><code>    construct a new Num object
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">,</span> <span class="n">txt</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-44'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-44'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mu</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sd</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">lo</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">hi</span> <span class="o">=</span> <span class="o">-</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">oid</span> <span class="o">=</span> <span class="n">oid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">txt</span> <span class="o">=</span> <span class="n">txt</span>
        <span class="k">if</span> <span class="n">data</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="bp">self</span> <span class="o">+</span> <span class="n">val</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-45'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-45'>#</a>
      </div>
      <pre><code>    returns standard deviation
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">variety</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-46'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-46'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">sd</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-47'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-47'>#</a>
      </div>
      <pre><code>    expectation for Num
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">xpect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-48'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-48'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">n</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">+</span> <span class="n">j</span><span class="o">.</span><span class="n">n</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">/</span> <span class="n">n</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">variety</span><span class="p">()</span> <span class="o">+</span> <span class="n">j</span><span class="o">.</span><span class="n">n</span> <span class="o">/</span> <span class="n">n</span> <span class="o">*</span> <span class="n">j</span><span class="o">.</span><span class="n">variety</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-49'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-49'>#</a>
      </div>
      <pre><code>    standard deviation of Num
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_numSd</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-50'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-50'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">m2</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">0</span>
        <span class="k">return</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">m2</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-51'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-51'>#</a>
      </div>
      <pre><code>    normalization to Num
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">numNorm</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-52'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-52'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">lo</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hi</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">lo</span> <span class="o">+</span> <span class="mf">10e-32</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-53'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-53'>#</a>
      </div>
      <pre><code>    sub method for Sym
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-54'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-54'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">sd</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">return</span> <span class="n">v</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mu</span> <span class="o">-=</span> <span class="n">d</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m2</span> <span class="o">-=</span> <span class="n">d</span><span class="o">*</span><span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_numSd</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">v</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-55'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-55'>#</a>
      </div>
      <pre><code>    add method for Sym
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-56'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-56'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">val</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">lo</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">lo</span> <span class="o">=</span> <span class="n">v</span>
        <span class="k">if</span> <span class="n">v</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">hi</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">hi</span> <span class="o">=</span> <span class="n">v</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">mu</span> <span class="o">+=</span> <span class="n">d</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">m2</span> <span class="o">+=</span> <span class="n">d</span> <span class="o">*</span> <span class="p">(</span><span class="n">v</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">mu</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sd</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_numSd</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">v</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-57'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-57'>#</a>
      </div>
      <pre><code>    calculates likelihood between Nums
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">numlike</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-58'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-58'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">var</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sd</span><span class="o">**</span><span class="mi">2</span>
        <span class="n">denom</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">var</span><span class="p">)</span>
        <span class="n">num</span> <span class="o">=</span> <span class="p">(</span><span class="mf">2.71828</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="bp">self</span><span class="o">.</span><span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">var</span><span class="o">+</span><span class="mf">0.0001</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">num</span><span class="o">/</span><span class="p">(</span><span class="n">denom</span><span class="o">+</span><span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mi">64</span><span class="p">))</span> <span class="o">+</span> <span class="mi">10</span><span class="o">**</span><span class="p">(</span><span class="o">-</span><span class="mi">64</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-59'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-59'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">dist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">):</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="k">if</span> <span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">)</span> <span class="k">else</span> <span class="n">y</span>
            <span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNorm</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="n">y</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mf">0.5</span> <span class="k">else</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNorm</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">numNorm</span><span class="p">(</span><span class="n">y</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-60'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-60'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">discretize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="n">cohen</span> <span class="o">=</span> <span class="mf">0.3</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-61'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-61'>#</a>
      </div>
      <p>Organize data</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">X</span> <span class="o">=</span> <span class="p">[(</span><span class="n">good</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">good</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">val</span><span class="p">]</span> <span class="o">+</span> <span class="p">[(</span><span class="n">bad</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">for</span> <span class="n">bad</span> <span class="ow">in</span> <span class="n">other</span><span class="o">.</span><span class="n">val</span><span class="p">]</span>
        <span class="n">n1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span>
        <span class="n">n2</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">n</span>
        <span class="n">iota</span> <span class="o">=</span> <span class="n">cohen</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">sd</span><span class="o">*</span><span class="n">n1</span> <span class="o">+</span> <span class="n">other</span><span class="o">.</span><span class="n">sd</span><span class="o">*</span><span class="n">n2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">n1</span> <span class="o">+</span> <span class="n">n2</span><span class="p">)</span>
        <span class="n">clusters</span> <span class="o">=</span> <span class="n">unsuper</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">iota</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">X</span><span class="p">)))</span>
        <span class="n">ranges</span> <span class="o">=</span> <span class="n">merge</span><span class="p">(</span><span class="n">clusters</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ranges</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">ranges</span><span class="p">):</span>
                <span class="n">counts</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">r</span><span class="p">]</span>
                <span class="k">yield</span> <span class="n">Bag</span><span class="p">(</span> <span class="n">at</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">oid</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">txt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span> <span class="n">lo</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">hi</span> <span class="o">=</span> <span class="n">r</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span>
                        <span class="n">best</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">counts</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">1</span><span class="p">),</span>
                        <span class="n">bests</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">,</span> 
                        <span class="n">rest</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">counts</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span>
                        <span class="n">rests</span> <span class="o">=</span> <span class="n">other</span><span class="o">.</span><span class="n">n</span><span class="p">,</span>
                        <span class="n">first</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="mi">0</span><span class="p">),</span> <span class="n">last</span> <span class="o">=</span> <span class="p">(</span><span class="n">n</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">ranges</span><span class="p">)))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-62'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-62'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">mid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">round</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mu</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-63'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-63'>#</a>
      </div>
      <pre><code>Col class keeps information on the columns
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">Col</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-64'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-64'>#</a>
      </div>
      <pre><code>    construct a new Col object
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">,</span> <span class="n">txt</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">isnum</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-65'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-65'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">oid</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">txt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">isnum</span> <span class="o">=</span> <span class="n">oid</span><span class="p">,</span> <span class="n">txt</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">isnum</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-66'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-66'>#</a>
      </div>
      <pre><code>    add method for Col
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-67'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-67'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span> <span class="o">+</span> <span class="n">v</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-68'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-68'>#</a>
      </div>
      <pre><code>    sub method for Col
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">v</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-69'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-69'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">obj</span> <span class="o">-</span> <span class="n">v</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-70'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-70'>#</a>
      </div>
      <pre><code>    returns variety of Col
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">variety</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-71'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-71'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">variety</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-72'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-72'>#</a>
      </div>
      <pre><code>    returns distance between two objects for Col
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">dist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-73'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-73'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-74'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-74'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">discretize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">discretize</span><span class="p">(</span><span class="n">other</span><span class="o">.</span><span class="n">obj</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-75'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-75'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">mid</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">mid</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-76'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-76'>#</a>
      </div>
      <pre><code>Sample class keeps a bundle of columns
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">class</span> <span class="nc">Sample</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-77'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-77'>#</a>
      </div>
      <pre><code>    construct a new Sample object
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">oid</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-78'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-78'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">oid</span> <span class="o">=</span> <span class="n">oid</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linesize</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">skip</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nums</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">syms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xnums</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">xsyms</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-79'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-79'>#</a>
      </div>
      <pre><code>    file reader
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="n">file</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-80'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-80'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">curline</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
            <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
                <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">if</span> <span class="n">line</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">-</span><span class="mi">1</span> <span class="p">]</span> <span class="o">==</span><span class="s1">&#39;,&#39;</span><span class="p">:</span>
                    <span class="n">curline</span> <span class="o">+=</span> <span class="n">line</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="n">curline</span><span class="o">+=</span> <span class="n">line</span>
                    <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">curline</span><span class="p">)</span>
                    <span class="n">curline</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">return</span> <span class="n">lines</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-81'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-81'>#</a>
      </div>
      <pre><code>    line maker
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">linemaker</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;,&quot;</span><span class="p">,</span> <span class="n">doomed</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;([\n\t\r ]|#.*)&#39;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-82'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-82'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="s2">&quot;convert lines into lists, killing whitespace and comments&quot;</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">src</span><span class="p">:</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
            <span class="n">line</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="n">doomed</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">line</span><span class="p">:</span>
                <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">lines</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-83'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-83'>#</a>
      </div>
      <pre><code>    stringify lines
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">string</span><span class="p">(</span><span class="n">s</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-84'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-84'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">lines</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">s</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
            <span class="n">lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">lines</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-85'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-85'>#</a>
      </div>
      <pre><code>    automatic type conversion
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">compiler</span><span class="p">(</span><span class="n">x</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-86'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-86'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">try</span><span class="p">:</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">int</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
                <span class="k">return</span> <span class="nb">float</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">return</span> <span class="nb">str</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-87'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-87'>#</a>
      </div>
      <pre><code>    continuous domination predicate
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">zitler</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">row1</span><span class="p">,</span> <span class="n">row2</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-88'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-88'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">goals</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="n">s1</span><span class="p">,</span><span class="n">s2</span><span class="p">,</span><span class="n">e</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mf">2.71828</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">goals</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">goal</span> <span class="ow">in</span> <span class="n">goals</span><span class="p">:</span>
            <span class="n">col</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">goal</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">w</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">goal</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
            <span class="n">x</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">numNorm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">row1</span><span class="p">[</span><span class="n">goal</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">y</span> <span class="o">=</span> <span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">numNorm</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">row2</span><span class="p">[</span><span class="n">goal</span><span class="o">-</span><span class="mi">1</span><span class="p">]))</span>
            <span class="n">s1</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">-</span> <span class="n">e</span><span class="o">**</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="n">y</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="c1"># what-if #1: try going x to y</span>
            <span class="n">s2</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">-</span> <span class="n">e</span><span class="o">**</span><span class="p">(</span><span class="n">w</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">n</span><span class="p">)</span> <span class="c1"># what-if #2: try going y to x</span>
        <span class="k">return</span> <span class="n">s1</span><span class="o">/</span><span class="n">n</span> <span class="o">&lt;</span> <span class="n">s2</span><span class="o">/</span><span class="n">n</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-89'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-89'>#</a>
      </div>
      <pre><code>    partition for quicksort
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">partition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-90'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-90'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">low</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>         <span class="c1"># index of smaller element</span>
        <span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">high</span><span class="p">]</span>     <span class="c1"># pivot</span>
    
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-91'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-91'>#</a>
      </div>
      <p>If current element is smaller than or
equal to pivot</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">zitler</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">pivot</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-92'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-92'>#</a>
      </div>
      <p>increment index of smaller element</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
                <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    
        <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">high</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">high</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-93'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-93'>#</a>
      </div>
      <pre><code>    quickSort function using zitler's continuous domination predicate
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">quickSort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-94'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-94'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arr</span>
        <span class="k">if</span> <span class="n">low</span> <span class="o">&lt;</span> <span class="n">high</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-95'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-95'>#</a>
      </div>
      <p>pi is partitioning index, arr[p] is now
at right place</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">pi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">partition</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-96'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-96'>#</a>
      </div>
      <p>Separately sort elements before
partition and after partition</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="bp">self</span><span class="o">.</span><span class="n">quickSort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">pi</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">quickSort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">pi</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-97'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-97'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">sorted</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quickSort</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-98'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-98'>#</a>
      </div>
      <pre><code>    partition for quicksort
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">idxPartition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-99'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-99'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="n">low</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>         <span class="c1"># index of smaller element</span>
        <span class="n">pivot</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">high</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>     <span class="c1"># pivot</span>
    
        <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-100'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-100'>#</a>
      </div>
      <p>If current element is smaller than or
equal to pivot</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">zitler</span><span class="p">(</span><span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="n">pivot</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-101'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-101'>#</a>
      </div>
      <p>increment index of smaller element</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>                <span class="n">i</span> <span class="o">=</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span>
                <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">j</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    
        <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">high</span><span class="p">]</span> <span class="o">=</span> <span class="n">arr</span><span class="p">[</span><span class="n">high</span><span class="p">],</span> <span class="n">arr</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-102'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-102'>#</a>
      </div>
      <pre><code>    quickSort function using zitler's continuous domination predicate
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">idxQuickSort</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-103'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-103'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">arr</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">arr</span>
        <span class="k">if</span> <span class="n">low</span> <span class="o">&lt;</span> <span class="n">high</span><span class="p">:</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-104'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-104'>#</a>
      </div>
      <p>pi is partitioning index, arr[p] is now
at right place</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="n">pi</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">idxPartition</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-105'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-105'>#</a>
      </div>
      <p>Separately sort elements before
partition and after partition</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="bp">self</span><span class="o">.</span><span class="n">idxQuickSort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">low</span><span class="p">,</span> <span class="n">pi</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">idxQuickSort</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">pi</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">high</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-106'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-106'>#</a>
      </div>
      <pre><code>    automatic type conversion for a Sample
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">convert</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-107'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-107'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">f</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">compiler</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-108'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-108'>#</a>
      </div>
      <pre><code>    creates the Sample header with it's cols
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">create_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-109'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-109'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">header</span> <span class="o">=</span> <span class="n">line</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="n">val</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">val</span> <span class="ow">or</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">nums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">val</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Col</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">val</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">])),</span> <span class="n">Num</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">val</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">]))),</span> <span class="kc">True</span><span class="p">))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">syms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">val</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">]))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">Col</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">val</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">])),</span> <span class="n">Sym</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">val</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;?&#39;</span><span class="p">]))),</span> <span class="kc">False</span><span class="p">))</span>

            <span class="k">if</span> <span class="s2">&quot;!&quot;</span> <span class="ow">in</span> <span class="n">val</span> <span class="ow">or</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">val</span> <span class="ow">or</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="p">[</span><span class="n">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
                <span class="k">if</span> <span class="s2">&quot;!&quot;</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="n">index</span>
            <span class="k">if</span> <span class="s2">&quot;-&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">val</span> <span class="ow">and</span> <span class="s2">&quot;+&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">val</span> <span class="ow">and</span> <span class="s2">&quot;!&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">val</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">isupper</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">xnums</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">xsyms</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">linesize</span> <span class="o">=</span> <span class="n">index</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span> <span class="o">+=</span> <span class="mi">1</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-110'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-110'>#</a>
      </div>
      <pre><code>    inserts a row into a Sample
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">insert_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-111'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-111'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">linesize</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span><span class="p">,</span> <span class="s2">&quot;has an error&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">realline</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">realindex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">:</span>
                    <span class="n">realline</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                    <span class="n">realindex</span> <span class="o">+=</span><span class="mi">1</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">realindex</span><span class="p">]</span><span class="o">.</span><span class="n">obj</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                <span class="n">realline</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                <span class="n">realindex</span> <span class="o">+=</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">realindex</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-112'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-112'>#</a>
      </div>
      <pre><code>    removes the effects of a row from a Sample
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">delete_row</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-113'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-113'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cant delete empty sample&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">line</span><span class="p">)</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">linesize</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Line&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span><span class="p">,</span> <span class="s2">&quot;has an error&quot;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="n">realline</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">realindex</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">index</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">index</span> <span class="o">+</span> <span class="mi">1</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">val</span> <span class="o">==</span> <span class="s2">&quot;?&quot;</span><span class="p">:</span>
                    <span class="k">continue</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">realindex</span><span class="p">]</span><span class="o">.</span><span class="n">obj</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
                <span class="n">realindex</span> <span class="o">+=</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">realindex</span><span class="o">+=</span><span class="mi">1</span>
            <span class="n">index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-114'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-114'>#</a>
      </div>
      <pre><code>    add method for Sample
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__add__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-115'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-115'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">insert_row</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_cols</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-116'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-116'>#</a>
      </div>
      <pre><code>    sub method for Sample
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="fm">__sub__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-117'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-117'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="bp">self</span><span class="o">.</span><span class="n">delete_row</span><span class="p">(</span><span class="n">line</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-118'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-118'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">s_goals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">rows</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">[]</span>
        <span class="k">return</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_median</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">rows</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-119'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-119'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">s_median</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">col</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">rows</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">rows</span> <span class="p">]</span>
        <span class="k">return</span> <span class="n">median</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-120'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-120'>#</a>
      </div>
      <pre><code>    dumps Sample data into a file
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">dump</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;tabledump.txt&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-121'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-121'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Dump table:&quot;</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;t.cols&quot;</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="k">continue</span>
            <span class="k">if</span> <span class="n">col</span><span class="o">.</span><span class="n">isnum</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">oid</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  add: Num&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  col: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">oid</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  hi: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">hi</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  lo: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">lo</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  m2: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">m2</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  mu: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">mu</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  n: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">n</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  oid: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">oid</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  sd: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">sd</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  txt: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">oid</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  add: Sym&quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">cnt</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  col: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">oid</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  mode: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">mode</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  most: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">most</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  n: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">obj</span><span class="o">.</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  oid: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">oid</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  txt: &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>

        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;t.my: &quot;</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  len(cols): &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">))</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  y&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  klass&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">klass</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  nums&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">nums</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  syms&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">syms</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  w&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  x&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  xnums&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xnums</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  xsyms&quot;</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">xsyms</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">v</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;|  |  &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-122'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-122'>#</a>
      </div>
      <pre><code>    dumps Sample data sorted
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">dumpSorted</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="s2">&quot;tabledump.txt&quot;</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-123'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-123'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">)</span><span class="o">+</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sorted</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">i</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">)</span> <span class="o">-</span> <span class="mi">6</span><span class="p">):</span>
                <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-124'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-124'>#</a>
      </div>
      <pre><code>    returns a clone of a Sample
</code></pre>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">clone</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-125'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-125'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">new</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">oid</span><span class="p">)</span>
        <span class="n">new</span><span class="o">.</span><span class="n">create_cols</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">header</span><span class="p">)</span>
        <span class="n">new</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
        <span class="n">new</span><span class="o">.</span><span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span>
        <span class="n">new</span><span class="o">.</span><span class="n">xnums</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xnums</span>
        <span class="n">new</span><span class="o">.</span><span class="n">xsyms</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">xsyms</span>
        <span class="n">new</span><span class="o">.</span><span class="n">klass</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span>
        <span class="n">new</span><span class="o">.</span><span class="n">skip</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">skip</span>
        <span class="n">new</span><span class="o">.</span><span class="n">w</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">w</span>
        <span class="n">new</span><span class="o">.</span><span class="n">fileline</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fileline</span>
        <span class="n">new</span><span class="o">.</span><span class="n">linesize</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">linesize</span>
        <span class="n">new</span><span class="o">.</span><span class="n">header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">header</span> 
        <span class="k">return</span> <span class="n">new</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-126'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-126'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">dist</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">):</span>
        <span class="n">d</span><span class="p">,</span><span class="n">n</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span><span class="mf">1E-32</span>
        <span class="n">cols</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x</span>
        <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">cols</span><span class="p">:</span>
            <span class="n">n</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">r1</span><span class="p">[</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="n">r2</span><span class="p">[</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="n">d</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">col</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">d</span><span class="o">/</span><span class="n">n</span><span class="p">)</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-127'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-127'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">sortGroups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groups</span><span class="p">):</span>
        <span class="nb">repr</span> <span class="o">=</span> <span class="p">[</span> <span class="p">[</span><span class="mi">0</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">]</span> <span class="k">for</span> <span class="n">g</span> <span class="ow">in</span> <span class="n">groups</span> <span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-128'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-128'>#</a>
      </div>
      <p>Set the correct median values for the column</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">groups</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">:</span>
                <span class="nb">repr</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">c</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">s_median</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
        <span class="n">new_list</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span><span class="p">,</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">repr</span><span class="p">)]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">idxQuickSort</span><span class="p">(</span><span class="n">new_list</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_list</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">ordered_groups</span> <span class="o">=</span> <span class="p">[</span><span class="n">groups</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">new_list</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-129'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-129'>#</a>
      </div>
      <p>self._print_groups(ordered_groups)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="n">ordered_groups</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-130'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-130'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">neighbors</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r1</span><span class="p">,</span> <span class="n">rows</span><span class="p">):</span>
        <span class="n">a</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">r2</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">r1</span> <span class="o">!=</span> <span class="n">r2</span><span class="p">:</span>
                <span class="n">a</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">r1</span><span class="p">,</span> <span class="n">r2</span><span class="p">),</span> <span class="n">r2</span><span class="p">)</span> <span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-131'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-131'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">def</span> <span class="nf">sort_fun</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="k">return</span> <span class="mi">0</span>
            <span class="k">elif</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
            <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="mi">1</span>

        <span class="n">a</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="n">cmp_to_key</span><span class="p">(</span><span class="n">sort_fun</span><span class="p">),</span> <span class="n">reverse</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-132'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-132'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">shuffle</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">samples</span><span class="p">):</span>

        <span class="n">samples</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">),</span> <span class="n">samples</span><span class="p">)</span>
        <span class="n">idx</span> <span class="o">=</span> <span class="n">sample</span><span class="p">(</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">))],</span> <span class="n">k</span> <span class="o">=</span> <span class="n">samples</span> <span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span> <span class="n">rows</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">idx</span> <span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-133'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-133'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">faraway</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">row</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
            <span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="k">if</span> <span class="n">rows</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">rows</span> 
            <span class="n">samples</span> <span class="o">=</span> <span class="mi">128</span>
            <span class="nb">all</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">neighbors</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span> <span class="n">rows</span><span class="p">,</span> <span class="n">samples</span> <span class="o">=</span> <span class="n">samples</span> <span class="p">))</span>
            <span class="k">return</span> <span class="nb">all</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-134'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-134'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">div1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span><span class="p">):</span>

        <span class="n">zero</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="n">samples</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">A</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">faraway</span><span class="p">(</span><span class="n">zero</span><span class="p">,</span> <span class="n">rows</span><span class="p">)</span>
        <span class="n">B</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">faraway</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">rows</span><span class="p">)</span>
        <span class="n">c</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> 

        <span class="n">projection</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">C</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
            <span class="n">a</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span> 
            <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span> 
            <span class="n">proj</span> <span class="o">=</span> <span class="p">(</span><span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">c</span><span class="o">**</span><span class="mi">2</span> <span class="o">-</span> <span class="n">a</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">c</span><span class="p">)</span>
            <span class="n">projection</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">proj</span><span class="p">)</span>
        <span class="n">new_list</span> <span class="o">=</span> <span class="p">[[</span><span class="n">i</span><span class="p">,</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">x</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">projection</span><span class="p">)]</span>
        <span class="n">new_list</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
        <span class="nb">sorted</span> <span class="o">=</span> <span class="p">[</span><span class="n">rows</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">new_list</span><span class="p">]</span>
        <span class="n">mid</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">sorted</span><span class="p">)</span> <span class="o">//</span> <span class="mi">2</span>
        <span class="k">return</span> <span class="nb">sorted</span><span class="p">[:</span><span class="n">mid</span><span class="p">],</span> <span class="nb">sorted</span><span class="p">[</span><span class="n">mid</span><span class="p">:]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-135'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-135'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">divs</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_divs</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">count</span><span class="o">**</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="p">))</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-136'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-136'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_divs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">min_leaf_size</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">min_leaf_size</span><span class="p">:</span>
            <span class="n">new</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">rows</span><span class="p">:</span>
                <span class="n">new</span> <span class="o">+</span> <span class="n">row</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-137'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-137'>#</a>
      </div>
      <p>self._print_leaf(rows, level)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>            <span class="k">return</span> <span class="p">[</span><span class="n">new</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-138'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-138'>#</a>
      </div>
      <p>self._print_node(rows, level)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="n">east</span><span class="p">,</span> <span class="n">west</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">div1</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
        <span class="n">east</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_divs</span><span class="p">(</span><span class="n">east</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_leaf_size</span><span class="p">)</span>
        <span class="n">west</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_divs</span><span class="p">(</span><span class="n">west</span><span class="p">,</span> <span class="n">level</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">min_leaf_size</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">east</span> <span class="o">+</span> <span class="n">west</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-139'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-139'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_print_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;|.. &quot;</span> <span class="o">*</span> <span class="n">level</span>
        <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;n=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span><span class="si">}</span><span class="s2"> c=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">calc_c</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="si">:</span><span class="s2"> .2f</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-140'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-140'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_print_leaf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;|.. &quot;</span> <span class="o">*</span> <span class="n">level</span>
        <span class="n">text</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;n=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span><span class="si">}</span><span class="s2"> c=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">calc_c</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="si">:</span><span class="s2"> .2f</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="mi">5</span>
        <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;goals = [&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">klass</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;-&quot;</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">s_goals</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
            <span class="n">data</span> <span class="o">=</span> <span class="p">[</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">d</span> <span class="si">:</span><span class="s2"> .1f</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span> <span class="p">]</span>
            <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;-&quot;</span>
        <span class="n">text</span> <span class="o">+=</span> <span class="s2">&quot;]&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-141'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-141'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_print_groups</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">groups</span><span class="p">):</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
            <span class="n">names</span> <span class="o">=</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">y</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">txt</span> <span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span> <span class="p">]</span>
            <span class="n">space</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="n">names</span><span class="p">]</span>
            <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

            <span class="k">for</span> <span class="n">n</span><span class="p">,</span> <span class="n">sp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">space</span><span class="p">):</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">n</span> <span class="si">:</span><span class="s2"> &lt;</span><span class="si">{</span><span class="n">sp</span><span class="si">}}</span><span class="s2">&quot;</span>
            <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>

            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">g</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">groups</span><span class="p">):</span>
                <span class="n">median</span> <span class="o">=</span> <span class="n">g</span><span class="o">.</span><span class="n">s_goals</span><span class="p">()</span>
                <span class="k">for</span> <span class="n">m</span><span class="p">,</span> <span class="n">sp</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">median</span><span class="p">,</span> <span class="n">space</span><span class="p">):</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">m</span> <span class="si">:</span><span class="s2"> &lt;</span><span class="si">{</span><span class="n">sp</span><span class="si">}</span><span class="s2">.1f</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot; &lt;== best&quot;</span>
                <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot; &lt;== worst&quot;</span>
                <span class="n">s</span> <span class="o">+=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
            
            <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-142'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-142'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">discretize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">groups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">divs</span><span class="p">()</span>
        <span class="n">groups</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">sortGroups</span><span class="p">(</span><span class="n">groups</span><span class="p">)</span>

        <span class="n">feature_ranges</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">best</span><span class="p">,</span> <span class="n">worst</span> <span class="o">=</span> <span class="n">groups</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">groups</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">good</span><span class="p">,</span> <span class="n">bad</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">best</span><span class="o">.</span><span class="n">x</span><span class="p">,</span> <span class="n">worst</span><span class="o">.</span><span class="n">x</span><span class="p">):</span>
            <span class="nb">range</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">res</span> <span class="ow">in</span> <span class="n">best</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">good</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">discretize</span><span class="p">(</span><span class="n">worst</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">bad</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
                <span class="nb">range</span> <span class="o">+=</span> <span class="p">[</span><span class="n">res</span><span class="p">]</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">range</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">feature_ranges</span> <span class="o">+=</span> <span class="nb">range</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-143'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-143'>#</a>
      </div>
      <p>self._show_discretized_ranges(feature_ranges, best, worst)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="k">return</span> <span class="n">feature_ranges</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-144'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-144'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">_show_discretized_ranges</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">feature_ranges</span><span class="p">,</span> <span class="n">best</span><span class="p">,</span> <span class="n">worst</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">rang</span> <span class="ow">in</span> <span class="n">feature_ranges</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">rang</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-145'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-145'>#</a>
      </div>
      <p>Show some values from best and worst</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Best&quot;</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">best</span><span class="o">.</span><span class="n">rows</span><span class="p">))):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;best&quot;</span><span class="p">,</span> <span class="n">best</span><span class="o">.</span><span class="n">rows</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        <span class="nb">print</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">worst</span><span class="o">.</span><span class="n">rows</span><span class="p">))):</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;worst&quot;</span><span class="p">,</span> <span class="n">worst</span><span class="o">.</span><span class="n">rows</span><span class="p">[</span><span class="n">i</span><span class="p">])</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-146'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-146'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">calc_c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
        <span class="n">rows</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="k">if</span> <span class="n">rows</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">rows</span>
        <span class="n">zero</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">rows</span><span class="p">,</span> <span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">one</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">faraway</span><span class="p">(</span><span class="n">zero</span><span class="p">,</span> <span class="n">rows</span><span class="p">)</span>
        <span class="n">two</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">faraway</span><span class="p">(</span><span class="n">one</span><span class="p">,</span> <span class="n">rows</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">one</span><span class="p">,</span> <span class="n">two</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-147'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-147'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">norm_c</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rows</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc_c</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">calc_c</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="p">)</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-148'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-148'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">ys</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="p">[</span><span class="n">goal</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">mid</span><span class="p">()</span> <span class="k">for</span> <span class="n">goal</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">y</span><span class="p">]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-149'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-149'>#</a>
      </div>
      
    </div>
    <div class='code'>
      <div class="highlight"><pre><span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">lines</span> <span class="o">=</span> <span class="n">Sample</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s2">&quot;data/auto93.csv&quot;</span><span class="p">)</span>
    <span class="n">sample</span> <span class="o">=</span> <span class="n">Sample</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">ls</span> <span class="o">=</span> <span class="n">sample</span><span class="o">.</span><span class="n">linemaker</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">ls</span><span class="p">:</span>
        <span class="n">sample</span> <span class="o">+</span> <span class="n">l</span>
    <span class="n">branches</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">branch1</span> <span class="o">=</span> <span class="p">[]</span></pre></div>
    </div>
  </div>
  <div class='clearall'></div>
  <div class='section' id='section-150'>
    <div class='docs'>
      <div class='octowrap'>
        <a class='octothorpe' href='#section-150'>#</a>
      </div>
      <p>ranges = sample.discretize()
ranked_ranges = sorted(sorted(ranges,key=lambda x: x[&lsquo;rest&rsquo;]), key=lambda x: x[&lsquo;best&rsquo;], reverse=True)
fft = FFTNode([0,0,0,1], sample.rows, ranked_ranges)</p>
    </div>
    <div class='code'>
      <div class="highlight"><pre>    <span class="n">fft</span> <span class="o">=</span> <span class="n">FFT</span><span class="p">(</span><span class="n">sample</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="n">branch1</span><span class="p">,</span> <span class="n">branches</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">branch</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">branches</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;FFT&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">branch</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">txt</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">()</span>
    <span class="n">a</span> <span class="o">=</span> <span class="mi">2</span>
        


    


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>

</pre></div>
    </div>
  </div>
  <div class='clearall'></div>
</div>
</body>
